<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图书推荐系统-热门图书</title>
    <script src="./jQuery/jquery-3.5.1.slim.min.js"></script>
    <script src="./jQuery/jquery-3.5.1.min.js"></script>
    <link rel = "stylesheet" href = "./jQueryUI-1.13.2/jquery-ui.min.css">
    <link rel = "stylesheet" href = "./jQueryUI-1.13.2/jquery-ui.structure.min.css">
    <link rel = "stylesheet" href = "./jQueryUI-1.13.2/jquery-ui.theme.min.css">
    <script src="./jQueryUI-1.13.2/jquery-ui.min.js"></script>
</head>
<body>
<div id="root" style="width: 100%;height: auto">
    <input disabled id="login" type="button" class="ui-button" value="登录">
    <div id="show">

    </div>
</div>
<script>
    $.ajax({
        url: "/books/getBooksOfLendnum",
        type: "get",
        data: {},
        dataType: "json",
        async: false,
        success: function(data){
            var pthis = $(document).find("#show");
            for(var i = 0; i < data.length; i++){
                var oneDiv = $("<div></div>");
                oneDiv.append("<input disabled type='text' id='book_" + data[i].bookid +"' value='" + data[i].bookname + "'>" +
                    "<input disabled type='text' value='" + data[i].booktype + "'>" +
                    "<input disabled type='text' value='热度:" + data[i].lendnum + "'>" +
                    "<input disabled type='text' value='剩余数量:" + data[i].remainnum + "'><br>" +
                    "<img alt='图书封面' src='" + data[i].image + "'><br>" +
                    "<input disabled type='text' value='" + data[i].intro + "'><br>");
                pthis.append(oneDiv);
            }
        },
        error: function(error){
            console.log(error);
        }
    });
    $("#login").on('click', ()=>{
        location.href="login.html";
    });
</script>
</body>
</html>